@startuml package UML

/' set up line '/
skinparam linetype ortho
/' hide the class members '/
hide members

/' packages '/
package Core{
	/' class '/
   class Simulator
   class CPUSpikingModel implements Model
	class GPUSpilingModel implements Model
	class Operations
	class OperationManager
	class ParameterManager

	/' class relationships '/
	Model -left-o Simulator 
	Operations -right-o OperationManager   
	Simulator ---> OperationManager 

	/' relative position of classes in this package'/
	CPUSpikingModel-[hidden]right>GPUSpilingModel
	CPUSpikingModel-[hidden]->Operations
   OperationManager -[hidden]->ParameterManager
}

package Layouts{
	class FixedLayout implements Layout
	class DynamicLayout implements Layout
	class LayoutsFactory
	FixedLayout <-- LayoutsFactory
	DynamicLayout<-- LayoutsFactory	
}

package Vertices{
	class AllSpikingNeurons implements AllVertices
	class AllIFNeurons extends AllSpikingNeurons
	class AllLiFNeurons extends AllIFNeurons
	class AllZHNeurons extends AllIFNeurons
	class VerticesFactory 
	VerticesFactory -up->AllLiFNeurons
	VerticesFactory -up->AllZHNeurons
}

package Recorders{
	class  XmLRecorder implements IRecorder
	class HDF5Recorder implements IRecorder
	class XmlGrowthRecroder extends XmLRecorder
	class Hdf5GrowthRecorder extends HDF5Recorder
	class RecordersFactory
	XmLRecorder <-- RecordersFactory
	HDF5Recorder<-- RecordersFactory
	XmlGrowthRecroder<-- RecordersFactory
	Hdf5GrowthRecorder<-- RecordersFactory
}

package Connections{
	class ConnStatic implements Connections
	class ConnGrowth Implements Connections
	class ConnectionsFactory
	ConnectionsFactory --up> ConnStatic
	ConnectionsFactory --up> ConnGrowth  
}

package Edges{
	class AllSpikingSynapses implements AllEdges
	class AllSTDPSynapses extends AllSpikingSynapses
	class AllDSSynapses extends AllSpikingSynapses
	class AllDynamicsSTDPSynapses extends AllSTDPSynapses
	class EdgesFactory
	EdgesFactory --up->AllSTDPSynapses
	EdgesFactory --up->AllDSSynapses
	EdgesFactory --up>AllDynamicsSTDPSynapses
}

/' set up packages position '/
Core -[hidden]right>  Layouts
Layouts -[hidden]right> Vertices
Core -[hidden]down---> Recorders
Layouts -[hidden]down--->Connections
Vertices -[hidden]down-----> Edges

/'relative position of classes between different packages'/
Simulator -[#red]->LayoutsFactory
Simulator -[#red]-->ConnectionsFactory
Model o-[#red] Layout
Model o-[#red]-- Connections
/'relative position between package Layouts - Vertices'/
Layout o-[#red] AllVertices
Layout -[#red]---> VerticesFactory

/'relative position between package connections and other package'/
Connections o-[#red]- IRecorder
Connections o-[#red]- AllEdges
Connections <-[#red]---- RecordersFactory
Connections <-[#red]---- EdgesFactory

@enduml